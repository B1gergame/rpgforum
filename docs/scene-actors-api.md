# API акторов сцен

Этот модуль позволяет управлять списком акторов, доступных в каждой сцене, и получать список лиц, от имени которых пользователь может писать.

## Эндпоинты

### GET `/api/scenes/{scene}/actors/available`
Возвращает список акторов, от лица которых текущий пользователь может постить в указанной сцене.

### POST `/api/scenes/{scene}/actors/attach`
Подключает актора к сцене. Доступно администратору, модератору или ГМу сцены.

Параметры:
- `actor_id` — идентификатор актора (обязательно).
- `visibility` — `participants` | `gm_only` | `public`.
- `can_post` — может ли актора постить.
- `note` — произвольная заметка.

### PATCH `/api/scenes/{scene}/actors/{actor}`
Обновляет настройки актора в сцене (видимость и права постинга). Только для админа/модератора/ГМа.

### DELETE `/api/scenes/{scene}/actors/{actor}`
Отключает актора от сцены. Только для админа/модератора/ГМа.

## Правила доступности
`available` учитывает прикрепление актора к сцене, наличие права постить от его лица, видимость (`gm_only` скрывается от не‑ГМ) и флаг `can_post`.

## Мини‑пример
```http
POST /api/scenes/1/actors/attach
{ "actor_id": 10, "visibility": "gm_only", "can_post": true }

GET /api/scenes/1/actors/available
```
